<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
    <title>StroyGo Market ‚Äî –ê–Ω–≥—Ä–µ–Ω (–±–æ—Ç)</title>
    <!-- Font Awesome 6 (Free) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300..800&display=swap" rel="stylesheet">
    <style>
        /* –°–ë–†–û–° –ò –ë–ê–ó–û–í–´–ï –ù–ê–°–¢–†–û–ô–ö–ò */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f8fafd; color: #0b1e26; line-height: 1.4;
            -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
            padding-bottom: 80px;
        }
        .app-container {
            max-width: 500px; margin: 0 auto; background: #ffffff;
            box-shadow: 0 0 40px rgba(0,0,0,0.03); min-height: 100vh; position: relative;
        }
        .app-header {
            background: linear-gradient(145deg, #0a2a23, #0e3e33); color: white;
            padding: 28px 20px 24px; border-bottom-left-radius: 32px; border-bottom-right-radius: 32px;
            box-shadow: 0 15px 30px -10px rgba(249,115,22,0.25); position: relative; z-index: 10;
        }
        .header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .logo-area { display: flex; align-items: center; gap: 10px; }
        .logo-icon {
            background: #f97316; width: 48px; height: 48px; border-radius: 16px;
            display: flex; align-items: center; justify-content: center; font-size: 28px; color: white;
            box-shadow: 0 10px 20px #f9731650;
        }
        .logo-text { font-weight: 700; font-size: 22px; letter-spacing: -0.3px; }
        .logo-text span { color: #f97316; }
        .city-tag { background: rgba(255,255,255,0.15); padding: 6px 14px; border-radius: 40px; font-size: 13px; font-weight: 500; backdrop-filter: blur(5px); }
        .balance-card {
            background: rgba(255,255,255,0.1); backdrop-filter: blur(20px); border-radius: 28px;
            padding: 16px 20px; display: flex; justify-content: space-between; align-items: center;
            border: 1px solid rgba(255,255,255,0.2); margin-top: 8px;
        }
        .balance-item { display: flex; flex-direction: column; }
        .balance-label { font-size: 12px; opacity: 0.8; }
        .balance-value { font-weight: 700; font-size: 20px; }
        .shop-selector-row {
            display: flex; gap: 12px; overflow-x: auto; padding: 20px 20px 10px;
            scrollbar-width: none; white-space: nowrap; -webkit-overflow-scrolling: touch;
        }
        .shop-selector-row::-webkit-scrollbar { display: none; }
        .shop-chip {
            background: #f1f5f9; padding: 12px 24px; border-radius: 40px; font-weight: 600; font-size: 14px;
            color: #1e293b; transition: all 0.25s; border: 2px solid transparent; display: inline-flex;
            align-items: center; gap: 8px; box-shadow: 0 5px 15px rgba(0,0,0,0.02);
        }
        .shop-chip.selected { background: #f97316; color: white; border-color: white; box-shadow: 0 10px 25px #f9731660; }
        .tabs-container { position: sticky; top: 0; background: white; z-index: 20; padding: 10px 20px 0; border-bottom: 1px solid #eef2f6; }
        .tabs-scroll { display: flex; gap: 8px; overflow-x: auto; scrollbar-width: none; padding-bottom: 12px; }
        .tabs-scroll::-webkit-scrollbar { display: none; }
        .tab-item {
            padding: 10px 20px; border-radius: 40px; font-weight: 600; font-size: 14px; background: #f8fafc;
            color: #64748b; transition: all 0.2s; border: 1px solid #e2e8f0; white-space: nowrap;
        }
        .tab-item i { margin-right: 8px; font-size: 14px; }
        .tab-item.active { background: #0a2a23; color: white; border-color: #0a2a23; box-shadow: 0 5px 15px #0a2a2330; }
        .tab-content { display: none; padding: 20px; animation: fadeSlide 0.25s ease; }
        .tab-content.active-content { display: block; }
        @keyframes fadeSlide { from { opacity: 0.5; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
        .product-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        .product-card {
            background: white; border-radius: 28px; padding: 16px 12px 16px; border: 1px solid #f0f4f9;
            transition: all 0.25s; box-shadow: 0 10px 20px -8px rgba(0,0,0,0.05);
        }
        .product-card:active { transform: scale(0.98); }
        .product-img { background: #f1f5f9; border-radius: 22px; height: 110px; display: flex; align-items: center; justify-content: center; font-size: 36px; margin-bottom: 12px; }
        .price-row { display: flex; align-items: baseline; gap: 6px; flex-wrap: wrap; margin: 10px 0; }
        .old-price { font-size: 12px; color: #ef4444; text-decoration: line-through; }
        .new-price { font-size: 20px; font-weight: 800; color: #f97316; }
        .btn-add {
            width: 100%; background: #f97316; color: white; border: none; padding: 10px; border-radius: 40px;
            font-weight: 600; font-size: 13px; display: flex; align-items: center; justify-content: center;
            gap: 8px; transition: 0.2s; margin-top: 8px; cursor: pointer;
        }
        .btn-add:active { opacity: 0.7; }
        .btn-accept {
            width: 100%; background: #10b981; color: white; border: none; padding: 10px; border-radius: 40px;
            font-weight: 600; font-size: 13px; display: flex; align-items: center; justify-content: center;
            gap: 8px; transition: 0.2s; margin-top: 8px; cursor: pointer;
        }
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(255,255,255,0.85);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-top: 1px solid #eef2f6;
            display: flex; justify-content: space-around; padding: 12px 0 20px; z-index: 100;
            max-width: 500px; margin: 0 auto; right: 0;
        }
        .nav-icon {
            display: flex; flex-direction: column; align-items: center; gap: 4px; font-size: 12px;
            color: #64748b; transition: 0.2s; background: transparent; border: none; padding: 4px 12px;
            border-radius: 30px; cursor: pointer;
        }
        .nav-icon i { font-size: 22px; }
        .nav-icon.active { color: #f97316; font-weight: 600; background: #fff7ed; }
        .cart-fab {
            position: fixed; bottom: 90px; right: 20px; background: #f97316; width: 56px; height: 56px;
            border-radius: 30px; display: flex; align-items: center; justify-content: center; color: white;
            font-size: 22px; box-shadow: 0 15px 30px #f97316; border: 3px solid white; z-index: 99; cursor: pointer;
        }
        .cart-count-badge {
            position: absolute; top: -5px; right: -5px; background: #0a2a23; color: white; font-size: 12px;
            padding: 4px 8px; border-radius: 30px; min-width: 24px; text-align: center; border: 2px solid white;
        }
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); backdrop-filter: blur(5px); align-items: flex-end; justify-content: center;
            z-index: 200;
        }
        .modal-sheet {
            background: white; width: 100%; max-width: 500px; border-top-left-radius: 40px;
            border-top-right-radius: 40px; padding: 30px 20px; animation: slideUp 0.3s;
        }
        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        @media (max-width: 400px) { .product-grid { gap: 10px; } }
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º */
        .order-form input, .order-form textarea {
            width: 100%; padding: 14px 18px; margin-bottom: 12px; border: none;
            background: #1e293b; border-radius: 30px; font-size: 15px; color: white;
            font-family: 'Inter', sans-serif;
        }
        .order-form input::placeholder, .order-form textarea::placeholder { color: #94a3b8; }
        .order-form textarea { min-height: 80px; resize: vertical; }
        .quick-contact {
            position: fixed; bottom: 160px; right: 20px; z-index: 98;
        }
        .contact-btn {
            background: #25D366; width: 50px; height: 50px; border-radius: 25px;
            display: flex; align-items: center; justify-content: center; color: white;
            font-size: 24px; box-shadow: 0 10px 20px rgba(37, 211, 102, 0.4);
            border: 2px solid white; margin-bottom: 10px; cursor: pointer;
        }
        .contact-btn.telegram {
            background: #0088cc; box-shadow: 0 10px 20px rgba(0, 136, 204, 0.4);
        }
    </style>
</head>
<body>
<div class="app-container">

    <!-- –®–ê–ü–ö–ê -->
    <div class="app-header">
        <div class="header-top">
            <div class="logo-area">
                <div class="logo-icon"><i class="fas fa-trowel"></i></div>
                <div class="logo-text">Stroy<span>Go</span></div>
            </div>
            <div class="city-tag"><i class="fas fa-map-pin"></i> –ê–Ω–≥—Ä–µ–Ω</div>
        </div>
        <div class="balance-card">
            <div class="balance-item"><span class="balance-label">–ú–æ–∏ –±–æ–Ω—É—Å—ã</span><span class="balance-value">12 500 <span style="font-size: 14px;">—Å—É–º</span></span></div>
            <div class="balance-item"><span class="balance-label">–ó–∞–∫–∞–∑–æ–≤</span><span class="balance-value">9</span></div>
            <i class="fas fa-chevron-right" style="opacity: 0.8;"></i>
        </div>
    </div>

    <!-- –ú–ê–ì–ê–ó–ò–ù–´ -->
    <div class="shop-selector-row" id="shopSelector">
        <div class="shop-chip selected" data-shop="center"><i class="fas fa-store"></i> –¶–µ–Ω—Ç—Ä</div>
        <div class="shop-chip" data-shop="gres"><i class="fas fa-industry"></i> –ì–†–≠–°</div>
        <div class="shop-chip" data-shop="bazar"><i class="fas fa-shopping-bag"></i> –Ø–Ω–≥–∏ –±–∞–∑–∞—Ä</div>
        <div class="shop-chip" data-shop="yangish"><i class="fas fa-home"></i> –Ø–Ω–≥–∏ —à–∞—Ö–∞—Ä</div>
        <div class="shop-chip" data-shop="market"><i class="fas fa-tools"></i> –°—Ç—Ä–æ–π—Ä—ã–Ω–æ–∫</div>
    </div>

    <!-- –í–ö–õ–ê–î–ö–ò -->
    <div class="tabs-container">
        <div class="tabs-scroll" id="mainTabs">
            <button class="tab-item active" data-tab="tab1"><i class="fas fa-fire"></i> –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</button>
            <button class="tab-item" data-tab="tab2"><i class="fas fa-tag"></i> –°–∫–∏–¥–∫–∏</button>
            <button class="tab-item" data-tab="tab3"><i class="fas fa-cubes"></i> –í—Å–µ —Ç–æ–≤–∞—Ä—ã</button>
            <button class="tab-item" data-tab="tab4"><i class="fas fa-truck"></i> –î–æ—Å—Ç–∞–≤–∫–∞</button>
            <button class="tab-item" data-tab="tab5"><i class="fas fa-percent"></i> –ê–∫—Ü–∏–∏</button>
            <button class="tab-item" data-tab="tab6"><i class="fas fa-store-alt"></i> –ú–∞–≥–∞–∑–∏–Ω—ã</button>
        </div>
    </div>

    <!-- –ö–û–ù–¢–ï–ù–¢ –í–ö–õ–ê–î–û–ö (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥) -->
    <div id="tab1" class="tab-content active-content">
        <div class="product-grid">
            <div class="product-card" data-id="1" data-name="–¶–µ–º–µ–Ω—Ç –ú400 50–∫–≥" data-price="72000" data-unit="–º–µ—à–æ–∫">
                <div class="product-img">üè≠</div><h3 style="font-size: 16px;">–¶–µ–º–µ–Ω—Ç –ú400</h3>
                <div style="font-size:12px; color:#f97316;"><i class="fas fa-store"></i> –¶–µ–Ω—Ç—Ä, –ì–†–≠–°</div>
                <div class="price-row"><span class="old-price">95 000</span><span class="new-price">72 000</span></div>
                <button class="btn-add" onclick="addToCart(1)"><i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            <div class="product-card" data-id="2" data-name="–ö–∏—Ä–ø–∏—á –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏–π" data-price="1850" data-unit="—à—Ç">
                <div class="product-img">üß±</div><h3>–ö–∏—Ä–ø–∏—á</h3>
                <div style="font-size:12px;"><i class="fas fa-store"></i> –í—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã</div>
                <div class="price-row"><span class="old-price">2 800</span><span class="new-price">1 850</span></div>
                <button class="btn-add" onclick="addToCart(2)"><i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            <div class="product-card" data-id="3" data-name="–ü–µ—Å–æ–∫ 1—Ç" data-price="120000" data-unit="—Ç">
                <div class="product-img">‚õ±Ô∏è</div><h3>–ü–µ—Å–æ–∫</h3>
                <div style="font-size:12px;"><i class="fas fa-truck"></i> –î–æ—Å—Ç–∞–≤–∫–∞</div>
                <div class="price-row"><span class="old-price">170 000</span><span class="new-price">120 000</span></div>
                <button class="btn-add" onclick="addToCart(3)"><i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            <div class="product-card" data-id="4" data-name="–ì–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω" data-price="89000" data-unit="–ª–∏—Å—Ç">
                <div class="product-img">üìã</div><h3>–ì–∏–ø—Å–æ–∫–∞—Ä—Ç–æ–Ω</h3><div style="font-size:12px;">–¶–µ–Ω—Ç—Ä</div>
                <div class="price-row"><span class="old-price">125 000</span><span class="new-price">89 000</span></div>
                <button class="btn-add" onclick="addToCart(4)"><i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
    
    <div id="tab2" class="tab-content">
        <h3>üî• –°–∫–∏–¥–∫–∏ –¥–æ 40%</h3>
        <div class="product-grid">
            <div class="product-card" data-id="5" data-name="–ö—Ä–∞—Å–∫–∞ —Ñ–∞—Å–∞–¥–Ω–∞—è" data-price="45000" data-unit="–ª">
                <div class="product-img">üé®</div><h3>–ö—Ä–∞—Å–∫–∞ —Ñ–∞—Å–∞–¥–Ω–∞—è</h3>
                <div style="font-size:12px;">–¶–µ–Ω—Ç—Ä, –Ø–Ω–≥–∏ –±–∞–∑–∞—Ä</div>
                <div class="price-row"><span class="old-price">75 000</span><span class="new-price">45 000</span></div>
                <button class="btn-add" onclick="addToCart(5)"><i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            <div class="product-card" data-id="6" data-name="–ü–ª–∏—Ç–∫–∞ 30—Ö30" data-price="32000" data-unit="–º¬≤">
                <div class="product-img">üî≤</div><h3>–ü–ª–∏—Ç–∫–∞ 30—Ö30</h3>
                <div style="font-size:12px;">–í—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã</div>
                <div class="price-row"><span class="old-price">55 000</span><span class="new-price">32 000</span></div>
                <button class="btn-add" onclick="addToCart(6)"><i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
    
    <div id="tab3" class="tab-content">
        <p>üì¶ –ë–æ–ª–µ–µ 200 —Ç–æ–≤–∞—Ä–æ–≤</p>
        <div class="product-grid">
            <div class="product-card" data-id="7" data-name="–ê—Ä–º–∞—Ç—É—Ä–∞ 12–º–º" data-price="85000" data-unit="–ø—Ä—É—Ç">
                <div class="product-img">‚õìÔ∏è</div><h3>–ê—Ä–º–∞—Ç—É—Ä–∞ 12–º–º</h3>
                <div class="price-row"><span class="new-price">85 000</span></div>
                <button class="btn-add" onclick="addToCart(7)"><i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            <div class="product-card" data-id="8" data-name="–î–æ—Å–∫–∞ –æ–±—Ä–µ–∑–Ω–∞—è" data-price="120000" data-unit="–º¬≥">
                <div class="product-img">ü™µ</div><h3>–î–æ—Å–∫–∞ –æ–±—Ä–µ–∑–Ω–∞—è</h3>
                <div class="price-row"><span class="new-price">120 000</span></div>
                <button class="btn-add" onclick="addToCart(8)"><i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>
    
    <div id="tab4" class="tab-content">
        <div style="background:#f1f5f9; border-radius:30px; padding:25px;">
            <h3>üöö –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ê–Ω–≥—Ä–µ–Ω—É</h3>
            <p>‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –æ—Ç 1 000 000 —Å—É–º</p>
            <p>‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞ –∑–∞ 24 —á–∞—Å–∞</p>
            <p>‚Ä¢ –°–∞–º–æ–≤—ã–≤–æ–∑ –∏–∑ –ª—é–±–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞</p>
        </div>
    </div>
    
    <div id="tab5" class="tab-content">
        <div class="balance-card" style="background:#0a2a23; color:white;">
            <span>üî• –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–∫–∞–∑–µ —Å–∫–∏–¥–∫–∞ 10%</span>
        </div>
    </div>
    
    <div id="tab6" class="tab-content">
        <h3>–ù–∞—à–∏ –º–∞–≥–∞–∑–∏–Ω—ã –≤ –ê–Ω–≥—Ä–µ–Ω–µ</h3>
        <p>üè™ –¶–µ–Ω—Ç—Ä (–ù–∞–≤–æ–∏) - —É–ª. –ù–∞–≤–æ–∏, 15</p>
        <p>üè≠ –ì–†–≠–° - –º–∏–∫—Ä–æ—Ä–∞–π–æ–Ω –ì–†–≠–°, 22</p>
        <p>üõí –Ø–Ω–≥–∏ –±–∞–∑–∞—Ä - —Ä—ã–Ω–æ–∫ –Ø–Ω–≥–∏ –±–∞–∑–∞—Ä</p>
    </div>

    <!-- –ö–ù–û–ü–ö–ò –ë–´–°–¢–†–û–ô –°–í–Ø–ó–ò -->
    <div class="quick-contact">
        <div class="contact-btn telegram" onclick="window.open('https://t.me/stroygooadmin', '_blank')">
            <i class="fab fa-telegram"></i>
        </div>
        <div class="contact-btn" onclick="window.open('https://wa.me/998901234567', '_blank')">
            <i class="fab fa-whatsapp"></i>
        </div>
    </div>

    <!-- –ö–û–†–ó–ò–ù–ê -->
    <div class="cart-fab" onclick="toggleCart()">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count-badge" id="cartCounter">0</span>
    </div>

    <!-- –ù–ò–ñ–ù–Ø–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <div class="bottom-nav">
        <button class="nav-icon" onclick="switchTab('tab1')"><i class="fas fa-fire"></i><span>–•–∏—Ç—ã</span></button>
        <button class="nav-icon" onclick="switchTab('tab2')"><i class="fas fa-tag"></i><span>–°–∫–∏–¥–∫–∏</span></button>
        <button class="nav-icon" onclick="switchTab('tab3')"><i class="fas fa-cubes"></i><span>–ö–∞—Ç–∞–ª–æ–≥</span></button>
        <button class="nav-icon" onclick="switchTab('tab4')"><i class="fas fa-truck"></i><span>–î–æ—Å—Ç–∞–≤–∫–∞</span></button>
        <button class="nav-icon" onclick="switchTab('tab5')"><i class="fas fa-gift"></i><span>–ê–∫—Ü–∏–∏</span></button>
    </div>
</div>

<!-- –ú–û–î–ê–õ–ö–ê –ö–û–†–ó–ò–ù–´ -->
<div id="cartModal" class="modal-overlay">
    <div class="modal-sheet" style="background: #0f172a; color:white;">
        <div style="display:flex; justify-content:space-between;">
            <h3>üõí –ö–æ—Ä–∑–∏–Ω–∞</h3>
            <i class="fas fa-times" onclick="closeCartModal()" style="font-size:24px; cursor:pointer;"></i>
        </div>
        <div id="cartItemsList" style="margin:20px 0;"></div>
        <div style="display:flex; justify-content:space-between; font-weight:bold; color:#f97316;">
            <span>–ò—Ç–æ–≥–æ:</span>
            <span id="cartTotal">0 —Å—É–º</span>
        </div>
        <button class="btn-add" style="margin-top:20px;" onclick="openOrderForm()">
            <i class="fab fa-telegram"></i> –ó–∞–∫–∞–∑ –≤ Telegram
        </button>
        <p style="color:#94a3b8; font-size:12px; margin-top:10px;">@StroyGObot</p>
    </div>
</div>

<!-- –ú–û–î–ê–õ–ö–ê –§–û–†–ú–´ –ó–ê–ö–ê–ó–ê -->
<div id="orderFormModal" class="modal-overlay">
    <div class="modal-sheet" style="background: #0f172a; color:white;">
        <div style="display:flex; justify-content:space-between; margin-bottom:20px;">
            <h3>üìã –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞</h3>
            <i class="fas fa-times" onclick="closeOrderFormModal()" style="font-size:24px; cursor:pointer;"></i>
        </div>
        <div class="order-form">
            <input type="text" id="customerName" placeholder="–í–∞—à–µ –∏–º—è" value="–ü–æ–∫—É–ø–∞—Ç–µ–ª—å">
            <input type="tel" id="customerPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" value="+998">
            <input type="text" id="customerAddress" placeholder="–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ (–æ—Ä–∏–µ–Ω—Ç–∏—Ä)">
            <textarea id="customerComment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
            <button class="btn-add" onclick="sendOrderToTelegram()" style="margin-top:10px;">
                <i class="fab fa-telegram"></i> üì¶ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–∫–∞–∑
            </button>
        </div>
    </div>
</div>

<!-- –ú–û–î–ê–õ–ö–ê –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø –ó–ê–ö–ê–ó–ê -->
<div id="acceptOrderModal" class="modal-overlay">
    <div class="modal-sheet" style="background: #0f172a; color:white; text-align: center;">
        <div style="font-size: 64px; margin-bottom: 20px;">‚úÖ</div>
        <h2 style="margin-bottom: 15px;">–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω!</h2>
        <p style="color: #94a3b8; margin-bottom: 25px;">–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑! –ú—ã —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.</p>
        <button class="btn-accept" onclick="closeAcceptModal()">
            <i class="fas fa-check"></i> –û—Ç–ª–∏—á–Ω–æ
        </button>
    </div>
</div>

<script>
    // ==================== –ù–ê–°–¢–†–û–ô–ö–ò –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø –ö –ë–û–¢–£ ====================
    const TELEGRAM_BOT_TOKEN = '8300136158:AAEpkQ26v0UwXkJt_RVTM_0ND3tsGPrS1dY';   // –¢–û–ö–ï–ù –ë–û–¢–ê
    const TELEGRAM_GROUP_ID = '1144365466';                                        // ID –ì–†–£–ü–ü–´
    const TELEGRAM_BOT_CHAT_ID = '@StroyGObot';                                    // –Æ–ó–ï–†–ù–ï–ô–ú –ë–û–¢–ê
    // ========================================================================

    // –î–∞–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω–æ–≤
    const shopNames = { 'center': '–¶–µ–Ω—Ç—Ä (–ù–∞–≤–æ–∏)', 'gres': '–ì–†–≠–°', 'bazar': '–Ø–Ω–≥–∏ –±–∞–∑–∞—Ä', 'yangish': '–Ø–Ω–≥–∏ —à–∞—Ö–∞—Ä', 'market': '–°—Ç—Ä–æ–π—Ä—ã–Ω–æ–∫' };
    let selectedShop = 'center';
    let cart = [];

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
    function switchTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active-content'));
        document.querySelectorAll('.tab-item').forEach(el => el.classList.remove('active'));
        document.getElementById(tabId).classList.add('active-content');
        const activeTabBtn = document.querySelector(`.tab-item[data-tab="${tabId}"]`);
        if (activeTabBtn) activeTabBtn.classList.add('active');
        const navIndex = {'tab1':0,'tab2':1,'tab3':2,'tab4':3,'tab5':4};
        document.querySelectorAll('.nav-icon').forEach((btn, idx) => {
            if (idx === navIndex[tabId]) btn.classList.add('active');
            else btn.classList.remove('active');
        });
    }
    document.querySelectorAll('.tab-item').forEach(btn => btn.addEventListener('click', function() { switchTab(this.dataset.tab); }));

    // –í—ã–±–æ—Ä –º–∞–≥–∞–∑–∏–Ω–∞
    document.querySelectorAll('.shop-chip').forEach(chip => {
        chip.addEventListener('click', function() {
            document.querySelectorAll('.shop-chip').forEach(c => c.classList.remove('selected'));
            this.classList.add('selected');
            selectedShop = this.dataset.shop;
        });
    });

    // –ö–æ—Ä–∑–∏–Ω–∞: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
    function addToCart(productId) {
        const card = document.querySelector(`.product-card[data-id="${productId}"]`);
        const name = card.dataset.name || '–¢–æ–≤–∞—Ä';
        const price = parseInt(card.dataset.price) || 0;
        const unit = card.dataset.unit || '—à—Ç';
        const existing = cart.find(item => item.id === productId);
        if (existing) existing.quantity++;
        else cart.push({ id: productId, name, price, quantity:1, unit });
        updateCartUI();
        const btn = card.querySelector('.btn-add');
        btn.style.background = '#10b981';
        btn.innerHTML = '<i class="fas fa-check"></i> –ì–æ—Ç–æ–≤–æ';
        setTimeout(() => { btn.style.background = '#f97316'; btn.innerHTML = '<i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å'; }, 600);
    }
    function removeFromCart(productId) { cart = cart.filter(item => item.id !== productId); updateCartUI(); }
    function updateCartUI() {
        const totalItems = cart.reduce((acc, i) => acc + i.quantity, 0);
        document.getElementById('cartCounter').innerText = totalItems;
        const list = document.getElementById('cartItemsList');
        const totalSpan = document.getElementById('cartTotal');
        let html = '', total = 0;
        if (cart.length === 0) html = '<p style="color:#94a3b8;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
        else {
            cart.forEach(item => {
                total += item.price * item.quantity;
                html += `<div style="display:flex; justify-content:space-between; background:#1e293b; padding:8px 15px; border-radius:40px; margin-bottom:8px;">
                    <span>${item.name} x${item.quantity}</span>
                    <span>${(item.price*item.quantity).toLocaleString()} —Å—É–º <i class="fas fa-trash" style="color:#f97316; margin-left:8px;" onclick="removeFromCart(${item.id})"></i></span>
                </div>`;
            });
        }
        list.innerHTML = html;
        totalSpan.innerText = total.toLocaleString() + ' —Å—É–º';
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª–∫–∞–º–∏
    function toggleCart() { 
        if (cart.length === 0) { alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞'); return; }
        document.getElementById('cartModal').style.display = 'flex'; 
        updateCartUI(); 
    }
    function closeCartModal() { document.getElementById('cartModal').style.display = 'none'; }
    function openOrderForm() {
        closeCartModal();
        document.getElementById('orderFormModal').style.display = 'flex';
    }
    function closeOrderFormModal() { document.getElementById('orderFormModal').style.display = 'none'; }
    function showAcceptModal() {
        document.getElementById('acceptOrderModal').style.display = 'flex';
    }
    function closeAcceptModal() {
        document.getElementById('acceptOrderModal').style.display = 'none';
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
    document.getElementById('cartModal').addEventListener('click', function(e) { if (e.target === this) closeCartModal(); });
    document.getElementById('orderFormModal').addEventListener('click', function(e) { if (e.target === this) closeOrderFormModal(); });
    document.getElementById('acceptOrderModal').addEventListener('click', function(e) { if (e.target === this) closeAcceptModal(); });

    // ========== –û–¢–ü–†–ê–í–ö–ê –ó–ê–ö–ê–ó–ê –í TELEGRAM ==========
    function sendOrderToTelegram() {
        if (cart.length === 0) { alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞'); return; }

        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
        const name = document.getElementById('customerName').value.trim() || '–ü–æ–∫—É–ø–∞—Ç–µ–ª—å';
        const phone = document.getElementById('customerPhone').value.trim() || '–Ω–µ —É–∫–∞–∑–∞–Ω';
        const address = document.getElementById('customerAddress').value.trim() || '–Ω–µ —É–∫–∞–∑–∞–Ω';
        const comment = document.getElementById('customerComment').value.trim() || '‚Äî';

        // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
        const itemsList = cart.map(i => `‚Ä¢ ${i.name} ‚Äî ${i.quantity} ${i.unit} √ó ${i.price.toLocaleString()} —Å—É–º = ${(i.price*i.quantity).toLocaleString()} —Å—É–º`).join('\n');
        const total = cart.reduce((s,i) => s + i.price*i.quantity, 0).toLocaleString();

        const message = `
üîî –ù–û–í–´–ô –ó–ê–ö–ê–ó StroyGo (–ê–Ω–≥—Ä–µ–Ω)
üè™ –ú–∞–≥–∞–∑–∏–Ω: ${shopNames[selectedShop]}
üë§ –ò–º—è: ${name}
üìû –¢–µ–ª–µ—Ñ–æ–Ω: ${phone}
üìç –ê–¥—Ä–µ—Å: ${address}
üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${comment}
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
${itemsList}
‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
üí∞ –ò–¢–û–ì–û: ${total} —Å—É–º
‚è±Ô∏è ${new Date().toLocaleString('ru-RU', { timeZone: 'Asia/Tashkent' })}
        `.trim();

        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä—É–ø–ø—É
        async function sendToGroup() {
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            const payload = {
                chat_id: TELEGRAM_GROUP_ID,
                text: message,
                parse_mode: 'HTML'
            };
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                return result.ok;
            } catch (e) {
                console.error('–û—à–∏–±–∫–∞:', e);
                return false;
            }
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–ø—Ä–∞–≤–∫–µ
        alert('‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞...');

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –≥—Ä—É–ø–ø—É
        sendToGroup().then(success => {
            if (success) {
                closeOrderFormModal();
                showAcceptModal();
                cart = [];
                updateCartUI();
            } else {
                alert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
            }
        });
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    window.onload = function() { updateCartUI(); };
</script>

</body>
</html>
